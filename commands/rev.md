# Review Staged Changes

このコマンドは、ステージされた差分を確認し、ルールファイルに従ってレビューを行います。

## 実行内容

1. **差分取得**: `git diff --cached` を実行してステージされた差分を取得  
2. **内容分析**:  `.cursor/rules/*` に記載されたルールに基づいてレビュー  
3. **採点**: 100点満点で評価し、80点以上なら「修正不要」とする  
4. **改善提案**: 致命的な欠陥があれば修正提案を行う（自動修正は行わない）  
5. **確認**: 必ずユーザーに確認を取り、修正を行うか判断してもらう  

## プロセス詳細

### ステップ1: 差分取得
- `git diff --cached` を実行してステージ済みの変更を取得  

### ステップ2: レビューと採点
- ルールファイルに従ってコード品質・設計・命名・エラーハンドリングを確認  
- 採点を 0〜100 点で行う  
- 90 点以上の場合は「修正不要」と表示  

### ステップ3: 改善提案
- 致命的な欠陥がある場合は修正提案を提示  
- 自動修正は行わない  
- 必ずユーザーに「修正するかどうか」の確認を取る  

## 使用方法

### 基本的な使用方法
1. Cursor のチャットで `/rev` を入力  
2. コマンドを選択して実行  
3. 差分が取得され、自動でレビューと採点が行われる  
4. 結果と必要に応じた修正提案が表示される  

### 使用例
/review

### 出力例
- **採点結果**: 85 点 → 修正不要  
- **採点結果**: 65 点 → 「命名規則に違反しているため修正を推奨」  

## 前提条件

- プロジェクトにルールファイル（コーディング規約）が存在すること  
- ステージされた差分があること  
- Git が利用可能な環境であること  

## 注意事項

- 自動修正は行わない  
- 必ずユーザーに確認を取ってから修正を進める  
- 致命的な欠陥が見